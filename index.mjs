const a0_0x20d28a=a0_0x4657;function a0_0x4657(_0x4c4eb3,_0x18fe32){const _0x10428d=a0_0x1042();return a0_0x4657=function(_0x4657f4,_0xbd6e04){_0x4657f4=_0x4657f4-0x86;let _0x4b68e8=_0x10428d[_0x4657f4];return _0x4b68e8;},a0_0x4657(_0x4c4eb3,_0x18fe32);}(function(_0x4a6f00,_0x57ee3c){const _0x1c0b2d=a0_0x4657,_0x38877b=_0x4a6f00();while(!![]){try{const _0x8b1107=parseInt(_0x1c0b2d(0xad))/0x1+-parseInt(_0x1c0b2d(0xba))/0x2+-parseInt(_0x1c0b2d(0xa5))/0x3*(-parseInt(_0x1c0b2d(0xa2))/0x4)+-parseInt(_0x1c0b2d(0xb0))/0x5+parseInt(_0x1c0b2d(0x86))/0x6+parseInt(_0x1c0b2d(0x87))/0x7+-parseInt(_0x1c0b2d(0x9e))/0x8*(parseInt(_0x1c0b2d(0x9d))/0x9);if(_0x8b1107===_0x57ee3c)break;else _0x38877b['push'](_0x38877b['shift']());}catch(_0x208c41){_0x38877b['push'](_0x38877b['shift']());}}}(a0_0x1042,0x1f9dc));function a0_0x1042(){const _0x1b75c7=['shown','data-selected-year','getEdition','</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','getAttribute','modal','preventDefault','169318cbNrLQ','spinner','querySelector','setAttribute','searchInputValues','574260sVLwYV','1064623VMRogj','setUserState','Montebook\x20','show','MONTEBOOK_AUTH','innerHTML','password','getElementById','from','tab','indexOf','login-form','scrollTo','getItem','util','tabs-root','input','#tab-content','search-clear-button','#login-modal','display','email','5904iLLRoO','328RHpIXg','detail-back-button','search-input','addEventListener','16844mgcSIV','dispatchEvent','none','18UTwQaE','login','getUserState','style','currentEditionYear','activeTabIndex','value','.uk-switcher\x20li.uk-active','142604DQXjYj','detail-container','flex','873070hFgilH','\x0a\x20\x20\x20\x20<div\x20class=\x22uk-alert-danger\x22\x20uk-alert>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href\x20class=\x22uk-alert-close\x22\x20uk-close></a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>','click'];a0_0x1042=function(){return _0x1b75c7;};return a0_0x1042();}import*as a0_0xfea29d from'./utils.mjs';import{renderFamiliesTable,onSearchFamiliesInput}from'./familyTab.mjs';import{renderStaffTable,onSearchStaffInput}from'./staffTab.mjs';import{renderClassroomsTable,onSearchClassroomsInput}from'./classroomsTab.mjs';import{renderSettingsTable}from'./settingsTab.mjs';import{RemoteStorage}from'./remoteStorage.mjs';const MB_LIST_READ='gWRe1wBLMM7l18k9.yH3cXuwMEzz0fgrGq8UQxwg74VS+lGHGvsK24y90M1lNTHv9I1vzjCmVQ/L0pk//oUOcdn4W93vGhLrbtMFdTBoXujpz1R5DDKBxsg==',remoteStorage=new RemoteStorage(a0_0x20d28a(0x8b),MB_LIST_READ);UIkit[a0_0x20d28a(0x95)]['on'](a0_0x20d28a(0x98),a0_0x20d28a(0xb3),function(){const _0x7c5e12=a0_0x20d28a,_0x497b99=a0_0xfea29d['getUserState'](),_0x3158f6=_0x497b99[_0x7c5e12(0xbe)];let _0x16ab62=_0x497b99[_0x7c5e12(0xaa)];_0x3158f6[_0x16ab62]=searchInput['value'];const _0x4b316b=document[_0x7c5e12(0xbc)](_0x7c5e12(0xac));_0x16ab62=Array[_0x7c5e12(0x8f)](_0x4b316b['parentNode']['children'])[_0x7c5e12(0x91)](_0x4b316b),window[_0x7c5e12(0x93)](0x0,0x0),searchInput['value']=_0x3158f6[_0x16ab62],_0x497b99[_0x7c5e12(0xbe)]=_0x3158f6,_0x497b99['activeTabIndex']=_0x16ab62,a0_0xfea29d['setUserState'](_0x497b99);});function setActiveTab(_0x493e6a){const _0xbe0fe8=a0_0x20d28a,_0x4b417c=document[_0xbe0fe8(0x8e)](_0xbe0fe8(0x96));UIkit[_0xbe0fe8(0x90)](_0x4b417c)['show'](_0x493e6a);}const searchInput=document['getElementById'](a0_0x20d28a(0xa0));searchInput[a0_0x20d28a(0xa1)](a0_0x20d28a(0x97),_0x477647=>{const _0x10bd6b=a0_0x20d28a,_0x4a3136=a0_0xfea29d[_0x10bd6b(0xa7)]();let _0x411679=_0x4a3136[_0x10bd6b(0xaa)];if(_0x411679==0x0)onSearchFamiliesInput(_0x477647);else{if(_0x411679==0x1)onSearchStaffInput(_0x477647);else _0x411679==0x2&&onSearchClassroomsInput(_0x477647);}}),document[a0_0x20d28a(0x8e)](a0_0x20d28a(0x99))[a0_0x20d28a(0xa1)](a0_0x20d28a(0xb2),_0x12523e=>{const _0x5715f3=a0_0x20d28a;searchInput['value']='',searchInput['focus'](),searchInput[_0x5715f3(0xa3)](new Event(_0x5715f3(0x97)));}),document[a0_0x20d28a(0x8e)](a0_0x20d28a(0x9f))[a0_0x20d28a(0xa1)](a0_0x20d28a(0xb2),_0x289f72=>{setDetailContainerHidden(!![]);}),start();function start(){const _0xeffe8a=a0_0x20d28a,_0x55ef50=a0_0xfea29d[_0xeffe8a(0xa7)]()['currentEditionYear'];if(_0x55ef50){document[_0xeffe8a(0x8e)]('app-title')[_0xeffe8a(0x8c)]='Montebook\x20'+_0x55ef50;const _0x3e62f4=a0_0xfea29d[_0xeffe8a(0xb5)](_0x55ef50);initializeTables();}else setActiveTab(0x3),renderSettingsTable();}export function switchToEdition(_0xdbe65b){const _0x4303a2=a0_0x20d28a,_0x502ad2=a0_0xfea29d[_0x4303a2(0xb5)](_0xdbe65b);if(_0x502ad2){let _0x51b6e1=a0_0xfea29d[_0x4303a2(0xa7)]();_0x51b6e1[_0x4303a2(0xa9)]=_0xdbe65b,a0_0xfea29d[_0x4303a2(0x88)](_0x51b6e1),document[_0x4303a2(0x8e)]('app-title')[_0x4303a2(0x8c)]=_0x4303a2(0x89)+(_0xdbe65b||''),initializeTables(),setActiveTab(0x0);}else document['querySelector'](_0x4303a2(0x9a))[_0x4303a2(0xbd)](_0x4303a2(0xb4),_0xdbe65b),UIkit[_0x4303a2(0xb8)](_0x4303a2(0x9a))[_0x4303a2(0x8a)]();}document[a0_0x20d28a(0x8e)](a0_0x20d28a(0x92))[a0_0x20d28a(0xa1)]('submit',_0x5a5323=>{const _0xa718f=a0_0x20d28a;_0x5a5323[_0xa718f(0xb9)]();const _0xc3da7b=document[_0xa718f(0x8e)](_0xa718f(0x9c))[_0xa718f(0xab)],_0xceda00=document[_0xa718f(0x8e)](_0xa718f(0x8d))[_0xa718f(0xab)],_0x525911=document[_0xa718f(0xbc)](_0xa718f(0x9a)),_0x54f941=_0x525911[_0xa718f(0xb7)]('data-selected-year');loginAndFetch(_0xc3da7b,_0xceda00,_0x54f941);});async function loginAndFetch(_0x510923,_0x13f2c3,_0x253c17){const _0x5e1c7c=a0_0x20d28a;document[_0x5e1c7c(0x8e)](_0x5e1c7c(0xbb))[_0x5e1c7c(0xa8)][_0x5e1c7c(0x9b)]=_0x5e1c7c(0xaf);try{const _0x44fb8d=await remoteStorage[_0x5e1c7c(0xa6)](_0x510923,_0x13f2c3);}catch(_0x5300b8){showLoginAlert('Unable\x20to\x20login');}const _0xf9581f='CUSD.Montclaire.'+_0x253c17,_0x38e89c=await remoteStorage[_0x5e1c7c(0x94)](_0xf9581f);a0_0xfea29d['setEdition'](_0x253c17,_0x38e89c),switchToEdition(_0x253c17),UIkit[_0x5e1c7c(0xb8)](_0x5e1c7c(0x9a))['hide'](),document['getElementById'](_0x5e1c7c(0xbb))[_0x5e1c7c(0xa8)][_0x5e1c7c(0x9b)]=_0x5e1c7c(0xa4);}function showLoginAlert(_0x27078a){const _0x38b878=a0_0x20d28a,_0xf02e97=document[_0x38b878(0x8e)]('login-alert-container');_0xf02e97[_0x38b878(0x8c)]=_0x38b878(0xb1)+_0x27078a+_0x38b878(0xb6);}function initializeTables(){renderFamiliesTable(),renderClassroomsTable(),renderStaffTable(),renderSettingsTable();}export function setDetailContainerHidden(_0x553300){const _0x2df689=a0_0x20d28a,_0x2eff14=document['getElementById'](_0x2df689(0xae));_0x553300?_0x2eff14['classList']['remove'](_0x2df689(0x8a)):_0x2eff14['classList']['add'](_0x2df689(0x8a));}