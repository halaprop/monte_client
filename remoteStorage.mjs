const a0_0x25a002=a0_0x25a2;(function(_0x2a7ef2,_0x568ddc){const _0x5abf34=a0_0x25a2,_0x11d437=_0x2a7ef2();while(!![]){try{const _0x283ee0=-parseInt(_0x5abf34(0x10c))/0x1*(parseInt(_0x5abf34(0x105))/0x2)+parseInt(_0x5abf34(0x122))/0x3*(-parseInt(_0x5abf34(0x111))/0x4)+parseInt(_0x5abf34(0x11c))/0x5+-parseInt(_0x5abf34(0x108))/0x6+-parseInt(_0x5abf34(0x102))/0x7*(-parseInt(_0x5abf34(0x127))/0x8)+parseInt(_0x5abf34(0x104))/0x9+parseInt(_0x5abf34(0xfa))/0xa;if(_0x283ee0===_0x568ddc)break;else _0x11d437['push'](_0x11d437['shift']());}catch(_0x42b5fc){_0x11d437['push'](_0x11d437['shift']());}}}(a0_0x26a7,0xecdd8));function a0_0x26a7(){const _0x57c467=['body','startsWith','399290vNiDtL','getNamespace','https://remote-storage.dan-5d7.workers.dev/v1','setItem','\x20â†’\x20ERROR:\x20','keys','1314177qMXxix','application/json','log','requestHeaders','GET','8VCYkrZ','DELETE','list','all','7648900biLdIp','login','apiFetch','keysPaged','message','unknown\x20error','name','/get','12541627UJatRQ','clear','15848973UfywqL','11102fUGgMd','status','json','8750886vTgUBR','map','append','/login','39qQlrQn','endpoint','push','POST','/getWithMetadata','16tDULGL','namespace','removeItem','length','getItemWithMetadata','catch','stringify','getItem','entries'];a0_0x26a7=function(){return _0x57c467;};return a0_0x26a7();}function a0_0x25a2(_0x2cad5a,_0x260fc7){const _0x26a7a5=a0_0x26a7();return a0_0x25a2=function(_0x25a203,_0x460386){_0x25a203=_0x25a203-0xfa;let _0x1a94a4=_0x26a7a5[_0x25a203];return _0x1a94a4;},a0_0x25a2(_0x2cad5a,_0x260fc7);}export class RemoteStorage{constructor(_0x3d9fa2,_0x2dbf50){const _0x1ab431=a0_0x25a2;this[_0x1ab431(0x112)]=_0x3d9fa2,this[_0x1ab431(0x10d)]=_0x1ab431(0x11e),this[_0x1ab431(0x125)]={'Authorization':_0x2dbf50,'Content-Type':_0x1ab431(0x123)};}async[a0_0x25a002(0xfb)](_0x276ed2,_0x34a532){const _0x39b81f=a0_0x25a002,_0xb71e06=await fetch(this[_0x39b81f(0x10d)]+_0x39b81f(0x10b),{'method':_0x39b81f(0x10f),'headers':{'Content-Type':'application/json'},'body':JSON['stringify']({'userID':_0x276ed2,'password':_0x34a532})});if(_0xb71e06[_0x39b81f(0x106)]!=0xc8)throw{'error':_0x39b81f(0xff)};const _0x3b2904=await _0xb71e06[_0x39b81f(0x107)]()[_0x39b81f(0x116)](()=>({})),_0x2ff87a=_0x3b2904['token'];return this[_0x39b81f(0x125)]={'Authorization':_0x2ff87a,'Content-Type':'application/json'},_0x2ff87a;}async[a0_0x25a002(0x121)](){const _0x4112ee=a0_0x25a002;let _0x406306=[],_0x1ee213=null;while(!![]){const {keys:_0x28128e,cursor:_0x27769a,list_complete:_0x151946}=await this[_0x4112ee(0xfd)]({'cursor':_0x1ee213});_0x406306[_0x4112ee(0x10e)](..._0x28128e);if(_0x151946)break;_0x1ee213=_0x27769a;}return _0x406306;}async[a0_0x25a002(0xfd)]({limit:limit=0x3e8,cursor:_0x4cf403=null}={}){const _0x3a2423=a0_0x25a002,{items:_0x4a0736,cursor:_0x41aa4d,list_complete:_0x484e33}=await this['list']({'limit':limit,'cursor':_0x4cf403}),_0x28e8cc=_0x4a0736[_0x3a2423(0x109)](_0x410989=>_0x410989['name']);return{'keys':_0x28e8cc,'cursor':_0x41aa4d,'list_complete':_0x484e33};}async[a0_0x25a002(0x11d)](..._0x2f5d6a){const _0x2efb2c=a0_0x25a002,_0x362305={};let _0x8206c6=null;while(!![]){const {items:_0x507eaf,cursor:_0x5e7826,list_complete:_0x2a1f15}=await this[_0x2efb2c(0x129)]({'cursor':_0x8206c6}),_0x37f0e0=_0x2f5d6a[_0x2efb2c(0x114)]?_0x507eaf['filter'](_0x1bb157=>_0x2f5d6a['some'](_0x2a2d35=>_0x1bb157[_0x2efb2c(0x100)][_0x2efb2c(0x11b)](_0x2a2d35))):_0x507eaf,_0x3b63a8=_0x37f0e0['map'](async({name:_0x2fc34e,metadata:_0x1f7b5a})=>{const _0x5d4c12=_0x2efb2c,_0x2b5d96=await this[_0x5d4c12(0x118)](_0x2fc34e);_0x362305[_0x2fc34e]={'value':_0x2b5d96,'metadata':_0x1f7b5a};});await Promise[_0x2efb2c(0x12a)](_0x3b63a8);if(_0x2a1f15)break;_0x8206c6=_0x5e7826;}return _0x362305;}async[a0_0x25a002(0x129)]({limit:limit=0x3e8,cursor:cursor=null}={}){const _0x1ee5d8=a0_0x25a002;return this['apiFetch'](_0x1ee5d8(0x126),'/list',null,{'limit':limit,'cursor':cursor});}async[a0_0x25a002(0x11f)](_0x527ab9,_0x22f884){const _0x902750=a0_0x25a002;return this['apiFetch'](_0x902750(0x10f),'/set',{'key':_0x527ab9,'value':_0x22f884});}async[a0_0x25a002(0x118)](_0x745464){const _0x16fc69=a0_0x25a002;return this[_0x16fc69(0xfc)]('GET',_0x16fc69(0x101),null,{'key':_0x745464});}async[a0_0x25a002(0x115)](_0x1e1500){const _0x573323=a0_0x25a002;return this[_0x573323(0xfc)](_0x573323(0x126),_0x573323(0x110),null,{'key':_0x1e1500});}async[a0_0x25a002(0x113)](_0x4b5a9e){const _0x41d3a4=a0_0x25a002;return this[_0x41d3a4(0xfc)](_0x41d3a4(0x128),'/delete',null,{'key':_0x4b5a9e});}async[a0_0x25a002(0x103)](){const _0x117ed7=a0_0x25a002,_0x2daa83=await this['keys'](),_0x40dc34=_0x2daa83[_0x117ed7(0x109)](_0x222a90=>this['removeItem'](_0x222a90));return await Promise[_0x117ed7(0x12a)](_0x40dc34),null;}async[a0_0x25a002(0xfc)](_0x535b5c,_0xe052de,_0x20f222=null,_0x5f1866={}){const _0x6f0620=a0_0x25a002;_0x5f1866={..._0x5f1866,'namespace':this[_0x6f0620(0x112)]};let _0x8c479e=new URL(''+this['endpoint']+_0xe052de);const _0x6d6f5e=new URLSearchParams();for(const [_0x401bc9,_0x191edd]of Object[_0x6f0620(0x119)](_0x5f1866)){_0x191edd!==undefined&&_0x191edd!==null&&_0x6d6f5e[_0x6f0620(0x10a)](_0x401bc9,_0x191edd);}_0x8c479e['search']=_0x6d6f5e['toString']();const _0x1dcfb3={'method':_0x535b5c,'headers':this['requestHeaders']};if(_0x20f222)_0x1dcfb3[_0x6f0620(0x11a)]=JSON[_0x6f0620(0x117)](_0x20f222);try{const _0x133f37=await fetch(_0x8c479e,_0x1dcfb3),_0x1e8f54=await _0x133f37[_0x6f0620(0x107)]();if(!_0x133f37['ok'])throw{'error':_0x1e8f54};return _0x1e8f54;}catch(_0x2da76b){console[_0x6f0620(0x124)](_0x535b5c+'\x20'+_0x8c479e+_0x6f0620(0x120)+_0x2da76b[_0x6f0620(0xfe)]);throw _0x2da76b;}}}